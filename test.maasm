; ROM size: 64kB
;0xEFFFF
.AT 0xF0000
start:
    JMP check_ram

check_ram:
    LOAD8 %a0, [0]
    LOAD8 %a1, [0]
    LOAD8 %a2, [0xFF]
    LOAD8 %ar1, [0]

    check_ram_loop:
        STORE32 %a1, %a0
        LOAD32  %a3, %a0
        EQ %ar0, %a3, [0]
        STORE32 %a1, %a2
        ZJMP %ar0, error
        LOAD32  %a3, %a0
        EQ %ar0, %a3, [0xFFFF]
        ZJMP %ar0, error
        ADD %ar1, %ar1, [1]
        ADD %a0, %a0, [1]
        JMP check_ram_loop

    error:
        ;

; FATAL ERROR INT ADDR
.AT 0xFFF8
    JMP [0x3F0050]

; RESET ADDR
.AT 0xFFFFC
    JMP [0x3F0000]